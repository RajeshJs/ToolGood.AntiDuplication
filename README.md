ToolGood.AntiDuplication
===

欢迎使用`ToolGood.AntiDuplication`！`ToolGood.AntiDuplication` 是一款轻量级防重复提交组件。


### 快速上手

```` csharp
        private readonly static AntiDupCache<int, int> antiDupCache = new AntiDupCache<int, int>(50, 1);
        private readonly static AntiDupQueue<int, int> antiDupQueue = new AntiDupQueue<int, int>(50);
        private readonly static DictCache<int, int> dictCache = new DictCache<int, int>();

		antiDupCache.Execute(key, () => {
			....
			return val;
		});

		antiDupQueue.Execute(key, () => {
			....
			return val;
		});

		dictCache.Execute(key, () => {
			....
			return val;
		});
`````
注意：`DictCache`需要手动清空缓存。




### 性能：
````

----------------------- 测试缓存性能 从1到100 重复次数：10000 单位： ms -----------------------
    并发数量： 1    2    3    4    5    6    7    8    9    10   11   12
AntiDupCache： 218  172  203  222  207  202  226  194  229  220  209  230
AntiDupQueue： 79   102  118  149  154  136  183  192  178  214  206  184
   DictCache： 79   97   132  144  138  172  162  154  184  219  231  176
       Cache： 77   90   94   126  145  140  162  143  177  211  217  192

----------------------- 防线上环境  从1到1000  单位： ms -----------------------
      并发数量： 1    2    3    4    5    6    7    8    9    10   11   12
      普通并发： 1827 943  639  480  382  319  272  236  216  189  184  158
  AntiDupCache： 1857 942  634  478  385  318  268  235  214  192  182  156
  AntiDupQueue： 1831 943  641  488  380  328  280  235  206  193  194  160
     DictCache： 1878 945  636  480  393  314  274  239  207  188  183  162
         Cache： 1829 1869 1862 1868 1847 1855 1829 1807 1810 1791 1783 1777
第二次普通并发： 1852 952  635  480  384  317  273  232  213  195  181  159

----------------------- 开始  从1到100   重复次数：1 单位： ms -----------------------
      并发数量： 1    2    3    4    5    6    7    8    9    10   11   12
      普通并发： 177  95   60   47   37   37   29   28   20   17   16   20
  AntiDupCache： 185  90   64   44   38   35   30   30   21   18   18   20
  AntiDupQueue： 186  94   58   47   38   37   29   29   22   17   19   22
     DictCache： 190  95   62   45   39   36   29   30   19   18   19   21
         Cache： 182  178  183  184  186  187  188  182  177  178  179  178
第二次普通并发： 182  94   63   47   38   36   30   29   21   18   15   20

----------------------- 开始  从1到100   重复次数：2 单位： ms -----------------------
      并发数量： 1    2    3    4    5    6    7    8    9    10   11   12
      普通并发： 363  185  127  95   74   66   58   46   42   38   35   46
  AntiDupCache： 182  92   64   50   37   33   27   26   21   17   17   20
  AntiDupQueue： 181  95   64   48   38   34   30   24   21   17   18   20
     DictCache： 184  92   64   45   36   30   28   31   21   19   18   21
         Cache： 182  186  193  184  188  189  183  179  182  174  178  173
第二次普通并发： 361  184  127  94   75   64   59   46   41   37   36   44

----------------------- 开始  从1到100   重复次数：3 单位： ms -----------------------
      并发数量： 1    2    3    4    5    6    7    8    9    10   11   12
      普通并发： 543  286  194  145  109  94   89   76   64   56   52   47
  AntiDupCache： 187  93   62   44   39   34   27   28   22   18   16   16
  AntiDupQueue： 184  91   64   46   37   36   28   28   21   20   18   16
     DictCache： 184  95   62   49   37   33   30   26   21   17   17   16
         Cache： 178  182  188  185  183  182  176  172  179  178  173  165
第二次普通并发： 555  277  188  144  110  94   88   78   67   55   55   45

----------------------- 开始  从1到100   重复次数：4 单位： ms -----------------------
      并发数量： 1    2    3    4    5    6    7    8    9    10   11   12
      普通并发： 739  378  249  193  152  131  108  93   86   76   70   67
  AntiDupCache： 183  93   62   48   38   35   31   25   22   18   18   18
  AntiDupQueue： 176  92   64   46   40   35   29   27   19   18   18   17
     DictCache： 184  93   64   46   41   31   28   23   22   19   17   18
         Cache： 183  191  184  195  198  190  184  192  187  199  187  187
第二次普通并发： 767  380  253  196  157  130  105  91   90   74   73   65

----------------------- 开始  从1到100   重复次数：5 单位： ms -----------------------
      并发数量： 1    2    3    4    5    6    7    8    9    10   11   12
      普通并发： 910  470  313  240  189  159  139  120  112  91   93   88
  AntiDupCache： 182  95   63   47   38   34   29   26   22   21   17   20
  AntiDupQueue： 180  93   61   48   39   33   28   28   21   20   17   20
     DictCache： 181  93   62   48   37   33   30   26   21   20   18   18
         Cache： 185  184  182  185  186  180  174  178  181  180  179  176
第二次普通并发： 926  463  320  236  188  159  132  119  110  93   92   87

----------------------- 开始  从1到100   重复次数：6 单位： ms -----------------------
      并发数量： 1    2    3    4    5    6    7    8    9    10   11   12
      普通并发： 1091 554  379  284  227  190  168  144  130  110  111  93
  AntiDupCache： 183  91   62   47   36   34   28   24   22   18   17   17
  AntiDupQueue： 179  94   67   47   38   34   27   24   22   19   17   18
     DictCache： 181  91   64   50   36   30   30   23   22   18   19   16
         Cache： 186  185  191  183  179  178  189  183  185  175  178  178
第二次普通并发： 1086 573  376  288  223  188  166  141  135  114  111  92

----------------------- 开始  从1到100   重复次数：7 单位： ms -----------------------
      并发数量： 1    2    3    4    5    6    7    8    9    10   11   12
      普通并发： 1281 649  434  330  263  221  189  169  151  130  128  114
  AntiDupCache： 182  98   65   45   40   36   29   27   20   17   17   17
  AntiDupQueue： 186  93   63   47   39   32   29   26   23   17   18   19
     DictCache： 175  91   62   45   37   34   29   25   20   19   22   17
         Cache： 191  191  180  185  177  185  182  183  177  181  183  181
第二次普通并发： 1283 662  439  333  265  220  185  167  156  129  127  114

----------------------- 开始  从1到100   重复次数：8 单位： ms -----------------------
      并发数量： 1    2    3    4    5    6    7    8    9    10   11   12
      普通并发： 1467 752  503  381  302  249  214  187  170  150  147  139
  AntiDupCache： 187  97   66   47   37   36   30   25   22   20   19   18
  AntiDupQueue： 181  95   64   48   38   36   30   25   23   19   17   18
     DictCache： 187  93   62   43   39   33   28   25   20   20   18   16
         Cache： 180  182  182  186  184  186  177  182  178  182  179  180
第二次普通并发： 1461 756  507  379  300  251  217  190  180  149  148  132

----------------------- 开始  从1到100   重复次数：9 单位： ms -----------------------
      并发数量： 1    2    3    4    5    6    7    8    9    10   11   12
      普通并发： 1627 849  566  422  342  286  249  215  187  162  168  138
  AntiDupCache： 183  97   64   49   36   34   29   27   24   17   17   16
  AntiDupQueue： 178  95   65   49   41   36   31   26   22   18   18   17
     DictCache： 183  90   62   47   40   35   27   25   23   18   18   18
         Cache： 185  187  189  192  185  186  191  192  197  189  189  183
第二次普通并发： 1725 866  579  426  338  290  244  216  186  169  165  141

----------------------- 开始  从1到100   重复次数：10 单位： ms -----------------------
      并发数量： 1    2    3    4    5    6    7    8    9    10   11   12
      普通并发： 1839 945  627  479  382  319  275  237  208  190  185  161
  AntiDupCache： 185  89   64   46   38   37   27   25   24   21   19   20
  AntiDupQueue： 183  93   63   50   40   34   31   22   24   19   18   19
     DictCache： 184  93   65   49   40   33   27   25   22   19   18   16
         Cache： 186  181  186  184  182  178  180  186  177  183  177  176
第二次普通并发： 1847 947  634  479  374  320  270  235  210  186  182  161

----------------------- 开始  从1到100   重复次数：11 单位： ms -----------------------
      并发数量： 1    2    3    4    5    6    7    8    9    10   11   12
      普通并发： 1999 1027 692  531  421  349  295  263  233  214  186  186
  AntiDupCache： 177  96   64   47   37   31   29   26   23   18   20   19
  AntiDupQueue： 184  95   63   49   36   36   29   26   24   18   20   21
     DictCache： 187  94   65   48   35   31   29   22   21   26   17   16
         Cache： 188  181  181  179  181  182  180  179  179  177  170  177
第二次普通并发： 2012 1030 692  529  416  345  294  262  229  204  189  183

----------------------- 开始  从1到100   重复次数：12 单位： ms -----------------------
      并发数量： 1    2    3    4    5    6    7    8    9    10   11   12
      普通并发： 2212 1122 766  570  458  383  320  286  251  225  205  190
  AntiDupCache： 184  96   67   49   44   37   33   29   27   20   17   18
  AntiDupQueue： 178  88   64   44   39   34   30   26   24   22   18   18
     DictCache： 186  94   64   46   39   31   29   25   21   20   18   18
         Cache： 183  185  185  186  186  182  183  177  181  176  173  181
第二次普通并发： 2214 1136 766  571  467  380  319  298  253  226  205  195

----------------------- 结束 -----------------------
````
